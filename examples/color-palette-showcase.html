<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ - d3-thematika</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson-client@3"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/responsive.css">
    <style>
        /* color-palette-showcase.htmlå›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .palette-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .palette-card {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .palette-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .palette-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .palette-name {
            font-weight: 600;
            color: var(--heading-color);
        }

        .palette-type {
            font-size: 0.8rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            background: var(--accent-light);
            color: var(--accent-color);
        }

        .palette-colors {
            display: flex;
            height: 40px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .color-swatch {
            flex: 1;
            cursor: pointer;
            position: relative;
            transition: transform 0.2s ease;
        }

        .color-swatch:hover {
            transform: scaleY(1.1);
            z-index: 1;
        }

        .palette-info {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .palette-actions {
            display: flex;
            gap: 0.5rem;
        }

        .copy-colors-btn {
            flex: 1;
            padding: 0.5rem;
            border: none;
            border-radius: 6px;
            background: var(--primary-color);
            color: white;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.2s ease;
        }

        .copy-colors-btn:hover {
            background: var(--primary-dark);
        }

        .accessibility-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.7rem;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            background: #10b981;
            color: white;
        }

        .accessibility-badge.warning {
            background: #f59e0b;
        }

        .recommendation-section {
            margin-top: 3rem;
        }

        .recommendation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .recommendation-card {
            background: var(--surface-color);
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            padding: 1rem;
        }

        .recommendation-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .recommendation-score {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <svg viewBox="0 0 24 24">
                    <path d="M12 2L2 7V12C2 16.97 5.54 21.5 12 23C18.46 21.5 22 16.97 22 12V7L12 2M12 20.47C6.57 19.28 4 15.53 4 12V8.27L12 4.61L20 8.27V12C20 15.53 17.43 19.28 12 20.47Z"/>
                </svg>
                d3-thematika
            </a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Examples</a>
                <a href="https://docs.d3-thematika.com" class="nav-link">Documentation</a>
                <a href="https://github.com/shimizu/d3-thematika" class="nav-link">GitHub</a>
            </div>
        </div>
    </nav>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <div class="main-container">
        <!-- ãƒ–ãƒ¬ãƒƒãƒ‰ã‚¯ãƒ©ãƒ  -->
        <nav class="breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="index.html">Home</a>
                </li>
                <li class="breadcrumb-item breadcrumb-separator">></li>
                <li class="breadcrumb-item">
                    <a href="examples.html">Examples</a>
                </li>
                <li class="breadcrumb-item breadcrumb-separator">></li>
                <li class="breadcrumb-item breadcrumb-current">ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹</li>
            </ol>
        </nav>

        <section>
            <h2 class="section-title">ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹</h2>
            
            <div class="info-box">
                <h3>ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆæ©Ÿèƒ½</h3>
                <ul>
                    <li>ç§‘å­¦çš„ã«æ¤œè¨¼ã•ã‚ŒãŸColorBrewerã€Viridisã€CARTOãƒ‘ãƒ¬ãƒƒãƒˆ</li>
                    <li>è‰²è¦šéšœå®³å¯¾å¿œã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯</li>
                    <li>ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ã€é€£ç¶šã€ç™ºæ•£ã®3ã‚¿ã‚¤ãƒ—ã®ãƒ‘ãƒ¬ãƒƒãƒˆ</li>
                    <li>ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸè‡ªå‹•ãƒ‘ãƒ¬ãƒƒãƒˆæ¨å¥¨æ©Ÿèƒ½</li>
                </ul>
            </div>

            <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« -->
            <div class="controls-panel">
                <div class="control-item">
                    <label for="palette-type">ãƒ‘ãƒ¬ãƒƒãƒˆã‚¿ã‚¤ãƒ—</label>
                    <select id="palette-type">
                        <option value="all" selected>å…¨ã‚¿ã‚¤ãƒ—</option>
                        <option value="categorical">ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«</option>
                        <option value="sequential">é€£ç¶š</option>
                        <option value="diverging">ç™ºæ•£</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>
                        <input type="checkbox" id="colorblind-safe" checked>
                        è‰²è¦šéšœå®³å¯¾å¿œã®ã¿è¡¨ç¤º
                    </label>
                </div>
                <div class="control-item">
                    <label for="num-classes">ã‚¯ãƒ©ã‚¹æ•°: <span id="num-classes-value">5</span></label>
                    <input type="range" id="num-classes" min="3" max="12" value="5">
                </div>
            </div>

            <!-- ãƒ‘ãƒ¬ãƒƒãƒˆè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div class="palette-grid" id="palette-grid">
                <!-- ãƒ‘ãƒ¬ãƒƒãƒˆãŒã“ã“ã«å‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
            </div>
            
            <!-- æ¨å¥¨ãƒ‘ãƒ¬ãƒƒãƒˆ -->
            <div class="recommendation-section">
                <h3>ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—åˆ¥æ¨å¥¨ãƒ‘ãƒ¬ãƒƒãƒˆ</h3>
                <div id="recommendations"></div>
            </div>
        </section>

        <!-- ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ« -->
        <section class="code-section">
            <h2 class="section-title">å®Ÿè£…ã‚µãƒ³ãƒ—ãƒ«</h2>
            
            <div class="code-header">
                <h3>ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã®ä½¿ç”¨ä¾‹</h3>
                <button class="copy-button" onclick="copyCode()">ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
            </div>
            <div class="code-block">
                <pre id="sample-code">// ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ä½¿ç”¨ä¾‹
import { 
    AllPalettes, 
    recommendPalette, 
    generateOptimizedPalette,
    checkColorBlindnessSafety 
} from './utils/color-palette';

// ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ç”¨ã®ãƒ‘ãƒ¬ãƒƒãƒˆæ¨å¥¨
const recommendations = recommendPalette('categorical', 8, true);
const bestPalette = recommendations[0].palette;

// æŒ‡å®šã‚¯ãƒ©ã‚¹æ•°ã«æœ€é©åŒ–
const optimizedColors = generateOptimizedPalette(bestPalette, 5);

// GeojsonLayerã§ã®ä½¿ç”¨
const worldLayer = new Thematika.GeojsonLayer({
    data: geojson,
    attr: {
        "fill": (d, i) => optimizedColors[i % optimizedColors.length],
        "stroke": '#ffffff',
        "stroke-width": 0.5
    }
});

// è‰²è¦šéšœå®³å¯¾å¿œãƒã‚§ãƒƒã‚¯
const isSafe = checkColorBlindnessSafety(optimizedColors);
console.log('è‰²è¦šéšœå®³å¯¾å¿œ:', isSafe);

// ç‰¹å®šãƒ‘ãƒ¬ãƒƒãƒˆã®ç›´æ¥ä½¿ç”¨
const viridisColors = AllPalettes.Viridis.colors;
const cartoSafeColors = AllPalettes.Safe.colors;
const tailwindRichColors = AllPalettes.TailwindRich.colors;</pre>
            </div>
        </section>
    </div>

    <!-- UMDç‰ˆã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ -->
    <script src="./thematika.umd.js"></script>

    <script>
        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å‡¦ç†
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ï¼ˆcolor-palette.tsã‹ã‚‰æŠ½å‡ºï¼‰
        const ColorPalettes = {
            // ColorBrewer ãƒ‘ãƒ¬ãƒƒãƒˆ
            Set1: {
                name: 'Set1',
                type: 'categorical',
                colors: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],
                colorBlindSafe: false,
                description: 'é®®ã‚„ã‹ãªã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ã‚«ãƒ©ãƒ¼ï¼ˆæœ€å¤§9ã‚¯ãƒ©ã‚¹ï¼‰'
            },
            Set2: {
                name: 'Set2',
                type: 'categorical',
                colors: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],
                colorBlindSafe: true,
                description: 'ãƒ‘ã‚¹ãƒ†ãƒ«èª¿ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            Set3: {
                name: 'Set3',
                type: 'categorical',
                colors: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],
                colorBlindSafe: false,
                description: 'è–„ã„è‰²èª¿ã®ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ã‚«ãƒ©ãƒ¼ï¼ˆæœ€å¤§12ã‚¯ãƒ©ã‚¹ï¼‰'
            },
            Blues: {
                name: 'Blues',
                type: 'sequential',
                colors: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],
                colorBlindSafe: true,
                description: 'é’ç³»é€£ç¶šã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            Greens: {
                name: 'Greens',
                type: 'sequential',
                colors: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],
                colorBlindSafe: true,
                description: 'ç·‘ç³»é€£ç¶šã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            Oranges: {
                name: 'Oranges',
                type: 'sequential',
                colors: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],
                colorBlindSafe: true,
                description: 'ã‚ªãƒ¬ãƒ³ã‚¸ç³»é€£ç¶šã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            YlOrRd: {
                name: 'YlOrRd',
                type: 'sequential',
                colors: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],
                colorBlindSafe: true,
                description: 'é»„-ã‚ªãƒ¬ãƒ³ã‚¸-èµ¤ç³»é€£ç¶šã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            YlGnBu: {
                name: 'YlGnBu',
                type: 'sequential',
                colors: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],
                colorBlindSafe: true,
                description: 'é»„-ç·‘-é’ç³»é€£ç¶šã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            RdYlBu: {
                name: 'RdYlBu',
                type: 'diverging',
                colors: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],
                colorBlindSafe: false,
                description: 'èµ¤-é»„-é’ç³»ç™ºæ•£ã‚«ãƒ©ãƒ¼'
            },
            RdBu: {
                name: 'RdBu',
                type: 'diverging',
                colors: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],
                colorBlindSafe: true,
                description: 'èµ¤-é’ç³»ç™ºæ•£ã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            // Viridis ãƒ‘ãƒ¬ãƒƒãƒˆ
            Viridis: {
                name: 'Viridis',
                type: 'sequential',
                colors: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],
                colorBlindSafe: true,
                description: 'Viridisé€£ç¶šã‚«ãƒ©ãƒ¼ï¼ˆçŸ¥è¦šçš„å‡ä¸€ã€è‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            Plasma: {
                name: 'Plasma',
                type: 'sequential',
                colors: ['#0d0887', '#46039f', '#7201a8', '#9c179e', '#bd3786', '#d8576b', '#ed7953', '#fb9f3a', '#fdca26', '#f0f921'],
                colorBlindSafe: true,
                description: 'Plasmaé€£ç¶šã‚«ãƒ©ãƒ¼ï¼ˆçŸ¥è¦šçš„å‡ä¸€ã€è‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            // CARTO ãƒ‘ãƒ¬ãƒƒãƒˆ
            Prism: {
                name: 'Prism',
                type: 'categorical',
                colors: ['#5F4690', '#1D6996', '#38A6A5', '#0F8554', '#73AF48', '#EDAD08', '#E17C05', '#CC503E', '#94346E', '#6F4070', '#994E95'],
                colorBlindSafe: true,
                description: 'CARTO Prism ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å¯¾å¿œï¼‰'
            },
            Safe: {
                name: 'Safe',
                type: 'categorical',
                colors: ['#88CCEE', '#CC6677', '#DDCC77', '#117733', '#332288', '#AA4499', '#44AA99', '#999933', '#882255', '#661100', '#6699CC', '#888888'],
                colorBlindSafe: true,
                description: 'CARTO Safe ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ã‚«ãƒ©ãƒ¼ï¼ˆè‰²è¦šéšœå®³å®Œå…¨å¯¾å¿œï¼‰'
            },
            // Tailwind CSS ãƒ‘ãƒ¬ãƒƒãƒˆ
            TailwindVivid: {
                name: 'TailwindVivid',
                type: 'categorical',
                colors: ['#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6', '#EC4899', '#06B6D4', '#84CC16'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ãƒ“ãƒ“ãƒƒãƒ‰ã‚«ãƒ©ãƒ¼ï¼ˆ500ã‚·ã‚§ãƒ¼ãƒ‰ï¼‰'
            },
            TailwindRich: {
                name: 'TailwindRich',
                type: 'categorical',
                colors: ['#2563EB', '#DC2626', '#059669', '#D97706', '#7C3AED', '#DB2777', '#0891B2', '#65A30D'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ãƒªãƒƒãƒã‚«ãƒ©ãƒ¼ï¼ˆ600ã‚·ã‚§ãƒ¼ãƒ‰ï¼‰'
            },
            TailwindDeep: {
                name: 'TailwindDeep',
                type: 'categorical',
                colors: ['#1D4ED8', '#B91C1C', '#047857', '#B45309', '#6D28D9', '#BE185D', '#0E7490', '#4D7C0F'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ãƒ‡ã‚£ãƒ¼ãƒ—ã‚«ãƒ©ãƒ¼ï¼ˆ700ã‚·ã‚§ãƒ¼ãƒ‰ï¼‰'
            },
            TailwindDark: {
                name: 'TailwindDark',
                type: 'categorical',
                colors: ['#1E40AF', '#991B1B', '#065F46', '#92400E', '#5B21B6', '#9D174D', '#155E75', '#3F6212'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ãƒ€ãƒ¼ã‚¯ã‚«ãƒ©ãƒ¼ï¼ˆ800ã‚·ã‚§ãƒ¼ãƒ‰ï¼‰'
            },
            TailwindWarm: {
                name: 'TailwindWarm',
                type: 'categorical',
                colors: ['#F97316', '#EF4444', '#F59E0B', '#EAB308', '#EC4899', '#F43F5E', '#D946EF', '#A855F7'],
                colorBlindSafe: false,
                description: 'Tailwind CSS æš–è‰²ç³»ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ãƒ»ãƒ¬ãƒƒãƒ‰ãƒ»ãƒ”ãƒ³ã‚¯ç³»ï¼‰'
            },
            TailwindCool: {
                name: 'TailwindCool',
                type: 'categorical',
                colors: ['#3B82F6', '#06B6D4', '#0EA5E9', '#10B981', '#22C55E', '#84CC16', '#6366F1', '#8B5CF6'],
                colorBlindSafe: true,
                description: 'Tailwind CSS å¯’è‰²ç³»ï¼ˆãƒ–ãƒ«ãƒ¼ãƒ»ã‚°ãƒªãƒ¼ãƒ³ãƒ»ãƒ‘ãƒ¼ãƒ—ãƒ«ç³»ï¼‰'
            },
            TailwindNeon: {
                name: 'TailwindNeon',
                type: 'categorical',
                colors: ['#06B6D4', '#10B981', '#84CC16', '#EAB308', '#F59E0B', '#EC4899', '#D946EF', '#8B5CF6'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ãƒã‚ªãƒ³ã‚«ãƒ©ãƒ¼ï¼ˆæ˜ã‚‹ãé®®ã‚„ã‹ãªè‰²èª¿ï¼‰'
            },
            TailwindBlues: {
                name: 'TailwindBlues',
                type: 'sequential',
                colors: ['#DBEAFE', '#BFDBFE', '#93C5FD', '#60A5FA', '#3B82F6', '#2563EB', '#1D4ED8', '#1E40AF', '#1E3A8A'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ãƒ–ãƒ«ãƒ¼ç³»é€£ç¶šã‚«ãƒ©ãƒ¼'
            },
            TailwindGreens: {
                name: 'TailwindGreens',
                type: 'sequential',
                colors: ['#D1FAE5', '#A7F3D0', '#6EE7B7', '#34D399', '#10B981', '#059669', '#047857', '#065F46', '#064E3B'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ã‚°ãƒªãƒ¼ãƒ³ç³»é€£ç¶šã‚«ãƒ©ãƒ¼'
            },
            TailwindPurples: {
                name: 'TailwindPurples',
                type: 'sequential',
                colors: ['#EDE9FE', '#DDD6FE', '#C4B5FD', '#A78BFA', '#8B5CF6', '#7C3AED', '#6D28D9', '#5B21B6', '#4C1D95'],
                colorBlindSafe: true,
                description: 'Tailwind CSS ãƒ‘ãƒ¼ãƒ—ãƒ«ç³»é€£ç¶šã‚«ãƒ©ãƒ¼'
            }
        };

        // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
        function filterPalettes() {
            const typeFilter = document.getElementById('palette-type').value;
            const colorBlindFilter = document.getElementById('colorblind-safe').checked;
            const numClasses = parseInt(document.getElementById('num-classes').value);
            
            const filteredPalettes = Object.values(ColorPalettes).filter(palette => {
                if (typeFilter !== 'all' && palette.type !== typeFilter) return false;
                if (colorBlindFilter && !palette.colorBlindSafe) return false;
                if (palette.colors.length < numClasses) return false;
                return true;
            });
            
            renderPalettes(filteredPalettes, numClasses);
            renderRecommendations(numClasses);
        }

        // ãƒ‘ãƒ¬ãƒƒãƒˆè¡¨ç¤º
        function renderPalettes(palettes, numClasses) {
            const grid = document.getElementById('palette-grid');
            grid.innerHTML = '';
            
            palettes.forEach(palette => {
                const card = createPaletteCard(palette, numClasses);
                grid.appendChild(card);
            });
        }

        // ãƒ‘ãƒ¬ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ä½œæˆ
        function createPaletteCard(palette, numClasses) {
            const colors = palette.colors.slice(0, numClasses);
            
            const card = document.createElement('div');
            card.className = 'palette-card';
            
            card.innerHTML = `
                <div class="palette-header">
                    <span class="palette-name">${palette.name}</span>
                    <span class="palette-type">${getTypeLabel(palette.type)}</span>
                </div>
                <div class="palette-colors">${colors.map(color => 
                    `<div class="color-swatch" style="background-color: ${color}" 
                          title="${color}" onclick="copyToClipboard('${color}')"></div>`
                ).join('')}</div>
                <div class="palette-info">
                    ${palette.description}
                    ${palette.colorBlindSafe ? 
                        '<span class="accessibility-badge">â™¿ è‰²è¦šéšœå®³å¯¾å¿œ</span>' : 
                        '<span class="accessibility-badge warning">âš ï¸ æ³¨æ„ãŒå¿…è¦</span>'
                    }
                </div>
                <div class="palette-actions">
                    <button class="copy-colors-btn" onclick="copyColorsArray('${palette.name}', ${JSON.stringify(colors).replace(/"/g, "&quot;")})">HEXã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
                </div>
            `;
            
            return card;
        }

        // æ¨å¥¨ãƒ‘ãƒ¬ãƒƒãƒˆè¡¨ç¤º
        function renderRecommendations(numClasses) {
            const container = document.getElementById('recommendations');
            const types = ['categorical', 'sequential', 'diverging'];
            
            container.innerHTML = '<div class="recommendation-grid">' + 
                types.map(type => {
                    const best = getBestPalette(type, numClasses);
                    if (!best) return '';
                    
                    return `
                        <div class="recommendation-card">
                            <div class="recommendation-title">${getTypeLabel(type)}ãƒ‡ãƒ¼ã‚¿ç”¨</div>
                            <div class="recommendation-score">æ¨å¥¨: ${best.name}</div>
                            <div class="palette-colors">${best.colors.slice(0, numClasses).map(color => 
                                `<div class="color-swatch" style="background-color: ${color}"></div>`
                            ).join('')}</div>
                        </div>
                    `;
                }).join('') + 
            '</div>';
        }

        // æœ€é©ãƒ‘ãƒ¬ãƒƒãƒˆå–å¾—
        function getBestPalette(type, numClasses) {
            const candidates = Object.values(ColorPalettes)
                .filter(p => p.type === type && p.colors.length >= numClasses)
                .sort((a, b) => {
                    // Tailwindãƒ‘ãƒ¬ãƒƒãƒˆã‚’å„ªå…ˆ
                    const aTailwind = a.name.startsWith('Tailwind');
                    const bTailwind = b.name.startsWith('Tailwind');
                    if (aTailwind && !bTailwind) return -1;
                    if (!aTailwind && bTailwind) return 1;
                    
                    // è‰²è¦šéšœå®³å¯¾å¿œã‚’å„ªå…ˆ
                    if (a.colorBlindSafe && !b.colorBlindSafe) return -1;
                    if (!a.colorBlindSafe && b.colorBlindSafe) return 1;
                    return 0;
                });
            
            return candidates[0];
        }

        // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
        function getTypeLabel(type) {
            const labels = {
                'categorical': 'ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«',
                'sequential': 'é€£ç¶š',
                'diverging': 'ç™ºæ•£'
            };
            return labels[type] || type;
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // ç°¡æ˜“ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                console.log('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ:', text);
            });
        }

        function copyColorsArray(paletteName, colors) {
            const text = `// ${paletteName} ãƒ‘ãƒ¬ãƒƒãƒˆ\nconst colors = ${JSON.stringify(colors, null, 2)};`;
            navigator.clipboard.writeText(text).then(() => {
                console.log(`${paletteName}ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ`);
            });
        }

        // åˆæœŸåŒ–
        function init() {
            // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
            document.getElementById('palette-type').addEventListener('change', filterPalettes);
            document.getElementById('colorblind-safe').addEventListener('change', filterPalettes);
            document.getElementById('num-classes').addEventListener('input', function(e) {
                document.getElementById('num-classes-value').textContent = e.target.value;
                filterPalettes();
            });

            // åˆæœŸè¡¨ç¤º
            filterPalettes();
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', init);

        // ã‚³ãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼æ©Ÿèƒ½
        function copyCode() {
            const codeElement = document.getElementById('sample-code');
            const textArea = document.createElement('textarea');
            textArea.value = codeElement.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
            const button = document.querySelector('.copy-button');
            const originalText = button.textContent;
            button.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
            button.style.background = '#10b981';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = '';
            }, 2000);
        }


        // ãƒªã‚µã‚¤ã‚ºå¯¾å¿œï¼ˆãƒ‘ãƒ¬ãƒƒãƒˆã‚°ãƒªãƒƒãƒ‰ã¯è‡ªå‹•èª¿æ•´ï¼‰
    </script>
</body>
</html>