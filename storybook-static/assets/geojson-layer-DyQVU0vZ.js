import{geoPath as l}from"d3-geo";import{B as o}from"./story-helpers-DJRNUMPK.js";class p extends o{constructor(t){super(`geojson-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,t.attr||{},t.style||{}),this.data=Array.isArray(t.data)?{type:"FeatureCollection",features:t.data}:t.data}setProjection(t){this.path=l(t),this.layerGroup&&(this.layerGroup.selectAll("path").remove(),this.renderFeatures())}render(t){this.layerGroup=this.createLayerGroup(t),this.renderFeatures()}on(t,e){this.layerGroup&&this.layerGroup.selectAll("path").on(t,function(a,r){e(a,r)})}renderFeatures(){if(!this.layerGroup||!this.path)return;const t=this.layerGroup.append("g").attr("class","thematika-geojson-layer").selectAll("path").data(this.data.features).enter().append("path").attr("d",this.path).attr("class",e=>{const a="thematika-feature",r=this.attr.className||"",s=e.properties?.class||"";return[a,r,s].filter(Boolean).join(" ")});this.applyAllStylesToElements(t,this.layerGroup)}getData(){return this.data}}export{p as G};
